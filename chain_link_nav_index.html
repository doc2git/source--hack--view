<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Edit code here, view the output write away!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">-->
    <!--<script src="./codemirror.min.js"></script>-->
    <!--<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.2.0/codemirror.min.css">-->
    <!--<script src="./htmlmixed.min.js"></script>-->
    <!--<script src="./css.min.js"></script>-->
    <!--<script src="./javascript.min.js"></script>-->
    <!--<script src="./xml.min.js"></script>-->
    <!--<script src="./closetag.min.js"></script>-->
    <!--<script src="./closebrackets.min.js"></script>-->
    <!--&lt;!&ndash;[if lt IE 9]>-->
    <!--<script src="./html5.min.js"></script>-->
    <!--<![endif]&ndash;&gt;-->
    <!--&lt;!&ndash;Next script is wrote by doc2git, which is writing for fix the js pulubic function demensions of element. It will be call when Dom loaded by mind.&ndash;&gt;-->
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .disable {
            background-color: gray;
        }
    </style>
    <script data-hacker="doc2git">

        document.addEventListener('DOMContentLoaded', function () {

            var turtorIframe = document.getElementById('turtor-iframe');
            var turtorNavbar = document.getElementById('turtor-navbar');
            turtorNavbar.histories = [];
            console.log(turtorNavbar, turtorNavbar.histories, '37+++');

            //以下使用链式数据结构为iframe添加浏览历史记录
            function History(prev, value, next) {
                prev = prev || null;
                value = value || '';
                next = next || null;
                return {value: value, prev: prev, next: next};
                /*
                 * instance is look lick this:
                 * {
                 *   prev: {prev:prev-prev, prev-value, this-instance}
                 *   value: 'this-value',
                 *   next: {this-instance, next-value, next-next}
                 * }
                * */
            };
            turtorIframe.cur = new History();
            turtorNavbar.to = function () {
                //turtorIframe.src = this.history.cur; //设定教程iframe的src
                turtorIframe.src = this.histories[0].value; //设定教程iframe的src
            };
            console.log(turtorNavbar.to, '59---');

            //为教程按钮绑定事件以导航教程iframe
            turtorNavbar.go = function () {
                var turtorUrlInput = document.getElementById('turtor-url-input');
                var goBtn = document.getElementById('goBtn');
                console.log(turtorUrlInput, goBtn, turtorIframe, '32---');
                var h = new History(this.histories[], turtorUrlInput.value, null); //empty object store the old url.
                to(); //iframe jump.
                this.histories.push(h); //It looks like that, this centence is non-necessary, but store all History instance into a array, I feel well.
                this.histories[0] = h; //指定以不变的空间地址以存储当前once-history object.
            };
            console.log(turtorNavbar.go, '71---');

            function toOrDisable(urlValue) {
                if (!urlValue) {
                    this.target.className = 'disable';
                } else {
                    to();
                }
            }

            turtorNavbar.back = function () {
                this.histories[0] = this.histories[0].prev;
                toOrDisable.call(this, this.histories[0].value);
            };
            console.log(turtorNavbar.back, '85---');

            turtorNavbar.forward = function () {
                this.histories[0] = this.histories[0].next;
                toOrDisable.call(this, this.histories[0].value);
            };
            console.log(turtorNavbar.forward, '91---');

            ~function initTurtorIframeBar() {
                turtorNavbar.onclick = function (ev) {
                    console.log(95);
                    switch (ev.target.getAttribute('id')) {
                        case 'back':
                            this.back();
                            break;
                        case 'goBtn':
                            console.log('101, go');
                            this.go();
                            break;
                        case 'forward':
                            this.forward();
                            break;
                    }
                }
            }();  //教程导航条的定义至此完成

        }, false);
//
//
//        //以下定义在resize函数中执行的修复盒子尺寸的函数
//        function doc2git_textareaReRender() {
//            var textarea__panel_body = document.getElementById('doc2git--textarea--panel-body');
//            var codeMirror__cm_s_default = textarea__panel_body.getElementsByClassName('CodeMirror cm-s-default')[0];
////            console.log(codeMirror__cm_s_default, '27---');
//            codeMirror__cm_s_default.style.height = 'auto';
//        }
//
//        function doc2git_OutputReRender() {
//            var outputPanelBody = document.getElementById('doc2git--output--panel-body');
//            var outputIframe = outputPanelBody.getElementsByTagName('iframe')[0];
//            if (outputIframe) {
//                outputIframe.style.minHeight = '100px';
//                outputIframe.style.height = '100px';
//            }
//            var iframewrapper = document.getElementById('iframewrapper');
//            iframewrapper.style.minHeight = '100px';
//            iframewrapper.style.height = '100px';
//        }
//
//        function doc2git_textareaBoxKeepWidth() {
//            var textareaBox = document.getElementById('doc2git--texarea-box');
//            var outputPanelBody = document.getElementById('doc2git--output--panel-body');
//            var mustWidth = window.getComputedStyle(outputPanelBody).width;
//            textareaBox.style.width = mustWidth;
//        }
//
//        function doc2git_leftRightBoxKeepDimension() {
//            var leftBox = document.getElementById('doc2git--left-box');
//            var rigitBox = document.getElementById('doc2git--right-box');
//            var mustHeight = window.getComputedStyle(leftBox).height;
//            rigitBox.style.height = mustHeight;
//            var mustWidth = window.getComputedStyle(leftBox).width;
//            rigitBox.style.width = mustWidth;
//        }
    </script>

    <style>
        body {
            min-height: 300px;
            padding-top: 90px;
            background: #f6f6f6;
        }

        .container {
            width: 98%;
            padding-right: 15px;
            padding-left: 15px;
            margin-right: auto;
            margin-left: auto
        }

        .CodeMirror {
            min-height: 300px;;
            font-family: Menlo, Monaco, Consolas, "Andale Mono", "lucida console", "Courier New", monospace;
        }

        #textareaCode {
            min-height: 260px /*hacked by doc2git*/
        }

        #iframeResult {
            display: block;
            overflow: hidden;
            border: 0 !important;
            min-width: 100px;
            width: 100%;
            min-height: 260px; /*hacked by doc2git*/
            background-color: #fff
        }

        @media screen and (max-width: 768px) {
            #textareaCode {
                height: 300px
            }

            .CodeMirror {
                height: 300px;
                font-family: Menlo, Monaco, Consolas, "Andale Mono", "lucida console", "Courier New", monospace;
            }

            #iframeResult {
                height: 300px
            }

            .form-inline {
                padding: 6px 0 2px 0
            }
        }

        .logo h1 {
            /*background-image: url(/images/logo-domain-white.png);*/
            background-repeat: no-repeat;
            text-indent: -9999px;
            width: 160px;
            height: 39px;
            margin-top: 10px;
            display: block
        }
    </style>
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top" style="background: #00b0c1;">
    <div class="container">
        <div class="navbar-header logo"><h1>
            <a target="_blank" href="/" style="display: block;">doc2git.com</a></h1>
        </div>
    </div>
</nav>

<div style="height:680px; overflow-y:hidden; margin:0; padding:0" class="container">

    <!--<div class="col-sm-6">-->
    <!--<form class="form-inline">-->
    <!--<div class="form-group mx-sm-10">-->
    <!--<label for="url" class="sr-only">请键入教程地址</label>-->
    <!--<input type="password" class="form-control" id="url" placeholder="请键入教程地址">-->
    <!--</div>-->
    <!--</form>-->
    <!--<button class="btn btn-primary">Go</button>-->
    <!--<iframe src="https://cn.vuejs.org/v2/guide/" width="300px" ; height="594px" frameborder="0"></iframe>-->
    <!--</div>-->


    <div id="doc2git--left-box" style="height:100%; display:flex; flex-direction:column; align-content:space-between"
         class="col-sm-6">
        <div style="flex:0" class="panel panel-default">
            <div class="panel-heading">
                <form id="turtor-navbar" style="display:flex; justify-content:space-around" class="form-inline">
                    <!--<label for="url" class="sr-only">请键入教程地址</label>-->
                    <button id="back" type="button" class="btn btn-default">B</button>
                    <button id="forward" type="button" class="btn btn-default">F</button>
                    <input id="turtor-url-input" type="text" style="width:80%" class="form-control"
                           placeholder="请键入教程地址">
                    <button id="goBtn" type="button" class="btn btn-default">GO!</button>

                </form>
            </div>
            <!--<div class="panel-body">-->
            <!--<div id="iframewrapper"></div>-->
            <!--</div>-->
        </div>
        <!--<iframe id="turtor-iframe" src="https://cn.vuejs.org/v2/guide/" width="100%" style="flex:1"-->
                <!--frameborder="0"></iframe>-->
    </div>

    <div id="doc2git--right-box"
         style="height:100%; display:flex; flex-direction: column; justify-content:space-between; align-items:center; align-content:stretch;"
         class="col-sm-6">

        <!--<div style="flex:1; height:400px; width:100%; display:flex; flex-direction:column; align-content:stretch; justify-content:space-around;" class="panel panel-default">-->
        <div id="doc2git--texarea-box" class="panel panel-default">
            <div class="panel-heading">
                <form class="form-inline">
                    <div class="row">
                        <div class="col-xs-6">
                            <button type="button" class="btn btn-default">源代码：</button>
                        </div>
                        <div class="col-xs-6 text-right">
                            <button type="button" style="background-color:#5fcad5;border-color:#00b2c1" class="btn"
                                    onclick="submitTryit()" id="submitBTN">
                                <span class="glyphicon glyphicon-send"></span> 点击运行
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <div id="doc2git--textarea--panel-body" style="height:100%" class="panel-body">
			<textarea class="form-control" id="textareaCode" name="textareaCode">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt; Enjoy hacking UI and viewing render! &lt;/title&gt;
&lt;script src=&quot;https://unpkg.com/vue/dist/vue.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;app&quot;&gt;
  &lt;p&gt;{{ message }}&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
new Vue({
  el: '#app',
  data: {
    message: 'Hello Vue.js!'
  }
})
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
            </div>
        </div>

        <div class="panel panel-default" style="width:100%; margin-bottom:0">
            <!--<div class="panel-heading">-->
            <!--<form class="form-inline">-->
            <!--<button type="button" class="btn btn-default">运行结果</button>-->
            <!--</form>-->
            <!--</div>-->
            <div id="doc2git--output--panel-body" style="position:relative;" class="panel-body">
                <span style="position:absolute; right:20px; color:#ccc; font-size:14px;">&lt;&lt; 运行结果</span>
                <div style="height: 240px;" id="iframewrapper"></div>
            </div>
        </div>
    </div>

</div>

<footer>
    <div class="row">
        <div class="col-sm-12">
            <div style="text-align: center;">

                <hr>

                <p>Copyright © 2013-2017<a target="_blank" href="//doc2git.com/">&nbsp;&nbsp;doc2git.com</a></p>
            </div>
        </div>
    </div>
</footer>

<!--<script>-->
    <!--var mixedMode = {-->
        <!--name: "htmlmixed",-->
        <!--scriptTypes: [{-->
            <!--matches: /\/x-handlebars-template|\/x-mustache/i,-->
            <!--mode: null-->
        <!--},-->
            <!--{-->
                <!--matches: /(text|application)\/(x-)?vb(a|script)/i,-->
                <!--mode: "vbscript"-->
            <!--}]-->
    <!--};-->
    <!--var editor = CodeMirror.fromTextArea(document.getElementById("textareaCode"), {-->
        <!--mode: mixedMode,-->
        <!--selectionPointer: true,-->
        <!--lineNumbers: false,-->
        <!--matchBrackets: true,-->
        <!--indentUnit: 4,-->
        <!--indentWithTabs: true-->
    <!--});-->

    <!--window.addEventListener("resize", autodivheight);-->

    <!--var x = 0;-->

    <!--function autodivheight() {-->
        <!--var winHeight = 0;-->
        <!--if (window.innerHeight) {-->
            <!--winHeight = window.innerHeight;-->
        <!--} else if ((document.body) && (document.body.clientHeight)) {-->
            <!--winHeight = document.body.clientHeight;-->
        <!--}-->
        <!--//通过深入Document内部对body进行检测，获取浏览器窗口高度-->
        <!--if (document.documentElement && document.documentElement.clientHeight) {-->
            <!--winHeight = document.documentElement.clientHeight;-->
        <!--}-->
        <!--height = winHeight * 0.68;-->
        <!--editor.setSize('100%', height);-->
        <!--document.getElementById("iframeResult").style.height = height + "px";-->
        <!--doc2git_textareaReRender();-->
        <!--doc2git_OutputReRender();-->
        <!--doc2git_leftRightBoxKeepDimension();-->
        <!--doc2git_textareaBoxKeepWidth()-->
    <!--}-->

    <!--function submitTryit() {-->
        <!--var text = editor.getValue();-->
        <!--var patternHtml = /<html[^>]*>((.|[\n\r])*)<\/html>/im-->
        <!--var patternHead = /<head[^>]*>((.|[\n\r])*)<\/head>/im-->
        <!--var array_matches_head = patternHead.exec(text);-->
        <!--var patternBody = /<body[^>]*>((.|[\n\r])*)<\/body>/im;-->

        <!--var array_matches_body = patternBody.exec(text);-->
        <!--var basepath_flag = 1;-->
        <!--var basepath = '';-->
        <!--if (basepath_flag) {-->
<!--//            basepath = '<base href="//www.runoob.com/try/demo_source/" target="_blank">';-->
        <!--}-->
        <!--if (array_matches_head) {-->
            <!--text = text.replace('<head>', '<head>' + basepath);-->
        <!--} else if (patternHtml) {-->
            <!--text = text.replace('<html>', '<head>' + basepath + '</head>');-->
        <!--} else if (array_matches_body) {-->
            <!--text = text.replace('<body>', '<body>' + basepath);-->
        <!--} else {-->
            <!--text = basepath + text;-->
        <!--}-->
        <!--var ifr = document.createElement("iframe");-->
        <!--ifr.setAttribute("frameborder", "0");-->
        <!--ifr.setAttribute("id", "iframeResult");-->
        <!--document.getElementById("iframewrapper").innerHTML = "";-->
        <!--document.getElementById("iframewrapper").appendChild(ifr);-->

        <!--var ifrw = (ifr.contentWindow) ? ifr.contentWindow : (ifr.contentDocument.document) ? ifr.contentDocument.document : ifr.contentDocument;-->
        <!--ifrw.document.open();-->
        <!--ifrw.document.write(text);-->
        <!--ifrw.document.close();-->
        <!--autodivheight();-->
    <!--}-->

    <!--submitTryit();-->
    <!--autodivheight();-->
<!--</script>-->

<div style="display:none;">
    <!--<script>-->
    <!--var _hmt = _hmt || [];-->
    <!--(function () {-->
    <!--var hm = document.createElement("script");-->
    <!--hm.src = "//hm.baidu.com/hm.js?8e2a116daf0104a78d601f40a45c75b4";-->
    <!--var s = document.getElementsByTagName("script")[0];-->
    <!--s.parentNode.insertBefore(hm, s);-->
    <!--})();-->
    <!--</script>-->
</div>
<!--Bellow code attemp to get the output iframe and hack its height, but when output was changing , the height will resume, so this idea is worse.-->
</body>
</html>
<script data-hacker="doc2git">
    //    doc2git_textareaDimension();
</script>
